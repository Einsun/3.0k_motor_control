- 192.168.1.1 网关

- 192.168.1.121:8802 3.0k电机(modbus-rtu透传)

- 192.168.1.122:8802 3.6w电机(modbus-rtu透传)

- 192.168.1.123:8802 6.0w电机(modbus-rtu透传)

- 192.168.1.99:502  2.4w电机(modbus-tcp)

- 192.168.1.220:502  8通道采集卡(modbus-tcp)


3.0k_motor_control
===

##v3.0.1 - 2025/3/13
对3.6w转电机和3.0k转电机都进行了适配
其中结尾为b版本对速率调整，实际速度=设定速度/1.5

##v3.1 - 2025/3/14
改变二次元背景和图标
自动命名版本号

##v3.2a - 2025/4/22
核心架构完全更改

添加转矩表读取(485地址为0x02)

改变读取速度为1秒10次

##v3.2b - 2025/4/23
对转矩表更正

##v3.2c - 2025/4/23
- 将结束保存改为实时保存

##v3.3 - 2025/4/24
- 增加物理量采集

####新增功能：
添加物理量模块

支持物理量数据采集

集成多通道传感器监测

##v3.3a - 2025/4/24
- 性能优化版本

####主要改进：
Socket超时时间从500ms缩短至50ms

移除了对openpyxl的依赖

对第二个socket连接进行更精细的控制

##v3.3b (3.0.1) - 2025/5/14
- 关键bug修复版本

####修复问题：
修复单次获取电机状态时，加减速时间自动填充数值数量级不正确的问题

原问题：时间参数解析错误，显示值为实际值的10倍

修复：正确解析0.1秒为单位的寄存器值

####修复代码：
    _parse_timing_parameters():
        upt = read_data[0]/10
        dot = read_data[1]/10
####影响范围：
加速时间设置和显示

减速时间设置和显示

参数自动填充功能

##v3.3.1 - 2025/5/15
- 转速比例功能增强版本

####新增功能：
引入转速比例系数 (spdrate)

新增 spdrate = 1.7 配置参数

支持不同传动比的电机转速缩放

变频器转速显示应用spdrate系数

设定转速计算考虑spdrate

转矩仪转速显示应用spdrate

##v3.3.1a - 2025/5/16
- 关键范围检查修复版本

####主要修复：
转速设置范围检查bug

修复：set_rotation_speed()方法中转速范围检查未考虑spdrate的问题

原问题：最大转速限制错误，实际允许转速低于预期

####修复代码：
    if speed and 0 <= int(speed) <= self.motor_params['max_speed'] * self.config.spdrate:

确保数据采集线程中转矩仪转速正确应用spdrate

##v3.4 - 2026/1/14
更改电流不在增加转速比率乘数
####修复代码：
    self.current_state['current'] = read_data[4] / 100
